# Promise가 중요한 이유?!

어떻게 결과를 꺼내어 보느냐?!가 중요한 게 아니다.

콜백지옥을 `then`으로 해결하는 것에 초점을 두는 경향이 있는데,

**이것이 중요한 이유는 `then` 메서드를 통해 결과를 꺼내 보는 게 아닌, 비동기 상황을 `1급`값으로 다룬다는 점에서 엄청난 차이가 있다!!!**

# Promise

클래스를 통해 인스턴스를 반환.

대기 / 성공 / 실패를 다루는 1급 값.

**컨텍스트로만 다루는 것이 아닌, 대기 되어지고 있는, 어떤 값을 만든다는 점이 가장 중요함. 이 점이 콜백과 차이를 가장 결정적으로 짓는 부분.**

`callback`

**비동기의 컨텍스트. 끝나고 난 다음에 어떤 것을 실행해주고 있는 것.**

**코드 평가 시 즉시 `Promise`가 리턴된다는 것이 가장 큰 차이점.**

이것이 있기 때문에 그 이후에 내가 어떤 원하는 일들을 다룰 수 있다는 것.

리턴된 객체를 통해 또 `then` 메서드를 불러올 수 있는 것이며, 또 컨텍스트를 실행해줄 수 있다.

**계속해서 `then`으로 연결된다는 것은 값으로 다뤄지고 있다는 것이며, 즉, 1급으로 비동기 상황이 이루어진다는 것이 가치가 있다.**

```js
(() => {
  function add10(a, callback) {
    setTimeout(() => callback(a + 10), 100);
  }

  const a = add10(5, (res) => {
    add10(res, (res) => {
      add10(res, (res) => {
        log(res);
      });
    });
  });
})();

(() => {
  function add20(a) {
    return new Promise((resolve) => setTimeout(() => resolve(a + 20), 100));
  }

  const b = add20(5).then(add20).then(add20).then(log);
  log(b);
})();
```
