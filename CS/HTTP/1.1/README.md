# HTTP/1.1

`HTTP` 1.1버전에서는 다음과 같은 기능들이 추가됐다.

+ 설계의 구조적 결함 안정적으로 개선
+ 성능 최적화

## keep-alive

1.0+에서 이미 추가되었지만 문제들을 보완하여 안정적으로 개선했다.

### 무엇이 문제였나

기존에는 커넥션이 1회용이었다. 즉 한 번 요청이 닫히면, 다시 요청하는 데 또 다시 연결/닫기 작업을 수행해야 했다.

이는 성능적으로 좋지 않았다. 따라서 커넥션이 재사용될 수 있게 하여, 탐색된 단일 원본 문서 내로 `embeded resources`를 전달하기 위해 사용된 커넥션을 다시 열어 시간을 절약하게 하였습니다.

## 파이프라이닝

첫 응답이 완전히 전송되기 이전에 두 번째 요청 전송을 지원했다. 이는 커뮤니케이션의 성능을 개선했다.

## `Chunked response`

이는 지속적인 커넥션과 관련이 있다.

지속적인 커넥션을 유지하려면, 본문을 쓰기 전에 반드시 `Content-Length` 헤더에 본문의 길이를 담아서 보내줘야 한다. 

그런데 콘텐츠가 서버에서 동적으로 생성되는 경우에는 보내기 전에 본문의 길이를 알아내는 것이 불가능할 것이다.

따라서 다음과 같이 청크된 응답을 지원하기 시작했다.

![image](https://user-images.githubusercontent.com/78713176/211284308-3b6eea73-819c-4390-9f2b-1e157e2372e6.png)


이외에도 다음과 같은 기능들이 추가되었다.

+ 캐시 제어 매커니즘 도입
+ 클라이언트 - 서버 간 타입을 포함한 컨텐츠 협상 도입
+ 동일 `IP`에 다른 도메인을 호스트하는 서버 코로케이션 가능


# 참고 링크

[콘텐츠 인코딩과 전송 인코딩/청크 인코딩(Contents-Encoding and Transfer-Encoding/Chunked Encoding)](https://eminentstar.tistory.com/48)