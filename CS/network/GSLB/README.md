# GSLB

## DNS 로드밸런싱

DNS에서 서로 다른 IP 주소를 동일한 레코드 이름으로 동시에 설정 가능하다.  
그리고 설정 후에는 질의에 따른 응답 IP 주소를 나누어 로드밸런싱할 수 있다.

## 문제

DNS에 저장된 레코드와 매핑된 서비스가 문제가 있다면?  
DNS서버는 이러한 문제를 감지하지 못하고, 질의에 대해 설정된 값을 무조건적으로 응답한다.

결과적으로 사용자는 질의 요청에 비정상 상태인 IP 주소가 할당되어 있다면, 문제가 있는 서비스에 접근이 불가능하다. DNS에서 해당 IP 주소로 응답하기 때문이다.

## 해결 방법: GSLB 사용

GSLB는 도메인을 이용한 로드밸런싱에서 이와 같은 단편적인 문제를 해결한다.  

+ 도메인 질의에 응답하면서
+ 서비스의 상태를 헬스 체크하며 유효한지를 판단한다.

예컨대 2개의 서비스(1,2) IP 주소 레코드가 존재할 때, 2 주소가 장애가 발생하면, 헬스 체크를 통해 이를 판별하고 해당 주소를 이용하지 못하게 한다.  
따라서 사용자들은 1 IP 주소를 통해 정상적으로 서비스를 이용하도록 하는 것이다.

이러한 GSLB를 **인텔리전스 DNS**라고도 부른다.

