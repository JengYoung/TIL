# 마스터와 슬레이브

DNS 서버는 **마스터 서버와 슬레이브 서버**로 나뉠 수 있다.

## 기준

> `zone` 파일을 직접 관리하는가?

+ 마스터 서버: 직접 생성하여 도메인 관련 정보를 관리한다.
+ 슬레이브 서버: 마스터에 만들어진 존 파일을 정기적으로 복제한다. (=[영역 전송](https://learn.microsoft.com/ko-kr/services-hub/unified/health/remediation-steps-ad/configure-all-dns-zones-only-to-allow-zone-transfers-to-specified-ip-addresses), 영역 파일을 여러 DNS 서버로 복제하는 프로세스)

![image](https://user-images.githubusercontent.com/78713176/223925653-b7467978-6571-4a2d-a523-a4d1af7b4bd4.png)

## 유의사항

### 인가 제한

+ 슬레이브 서버를 생성 시에는 마스터 서버 정보를 입력해야 한다.
+ 인가 받지 않은 다른 DNS 서버가 복제하지 못하도록 슬레이브 서버를 지정해 복제를 제한할 수 있다.

### 만료 시간

마스터와 슬레이브 서버는 이중화에서 일반적으로 사용하는, 액티브-스탠바이나 액티브-액티브 형태로 구성되어 있지 않다.

이것이 의미하는 것은, 이중화 방식처럼 액티브 장비가 문제가 발생하더라도 다른 액티브/스탠바이 장비가 대신 동작하는 것이 아니라 **마스터 서버가 장애가 발생하면 슬레이브 서버도 장애가 발생한다는 의미이다.**

따라서 마스터 서버가 장애 시 다른 서버에도 장애가 발생하게 되는 그 시간을 만료 시간이라고 한다.

만료 시간 안에 마스터 서버를 복구해야, 슬레이브 서버 역시 장애가 발생하지 않는다.

`SOA` 레코드에서는 해당 만료 시간을 지정할 수 있다.

![image](https://user-images.githubusercontent.com/78713176/223927464-b1891287-4086-4ff3-856c-d5ff87110663.png)
