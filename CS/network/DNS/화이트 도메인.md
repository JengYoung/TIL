# 화이트 도메인

정상적으로 발송하는 대량의 이메일이 RBL 이력으로 간주되어 차단되는 것을 예방하기 위해, 사전에 등록된 개인이나 사업자에 한해 국내 주요 포탈 사이트로의 이메일 전송을 보장해주는 제도.

## RBL

한국인터넷진흥원(KISA)에서는 불법적인 스팸메일을 발송하는 사이트를 실시간 블랙리스트 정보로 관리하고 있다.  
이 실시간 블랙리스트를 RBL(Realtime Blocking List)이라고 한다.

## 등록 방법

### SPF(Sender Policy Framework ) 레코드를 통해 사전에 메일 서버 정보 공개

이를 통해 수신측에서는 메일 서버에 등록된 정보와 발송된 도메인을 통해 발송된 메일이 일치하는지 확인 가능하다.

이때, SPF 레코드의 길이는 최대 512바이트이다. (IP 기준 약 13개)
화이트 도메인으로 등록 가능한 메일 서버 개수가 제한되는 것에 유의해야 한다.  
또한 SPF 레코드 길이가 초과되면 오류가 아닌, 작성된 SPF 레코드 값 자체가 지워진다.  
따라서 미리 적어두고 복사 + 붙여넣기하는 것을 추천한다.


예시는 다음과 같다.

```txt
- Windows(TXT 레코드 사용)
 o 최초 등록 SPF: v=spf1 ip4:x.x.x.x -all
 o 추가 등록 SPF: v=spf1 ip4:x.x.x.x ip4:x.x.x.x -all
- Unix, Linux
 o 최초 등록 SPF: Domain. IN TXT "v=spf1 ip4:x.x.x.x -all"
 o 추가 등록 SPF: Domain. IN TXT "v=spf1 ip4:x.x.x.x ip4:x.x.x.x -all"


# -all: 메일 발송 IP를 위조해 보내온 메일을 수신 메일 서버에서 폐기(Drop)하라.
# ~all: 메일 발송 IP를 위조해 보내온 메일을 수신 메일 서버 정책에 따라 결정하라.
```

### KISA RBL 사이트에서 화이트 도메인 등록