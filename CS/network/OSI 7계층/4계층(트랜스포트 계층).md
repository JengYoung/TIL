# 4계층(트랜스포트 계층)

하위 1~3계층이 신호와 데이터를 올바른 위치로 보내고, 실제 신호를 잘 만들어 원격지 네트워크로 보내는 역할이라면, 4계층은 역할이 조금 다르다.

물론 데이터 플로 계층의 일부라는 것은 맞으나, 여기서는 해당 데이터들이 정상적으로 잘 보내지도록 확인하는 역할을 담당한다.

패킷 네트워크가 데이터를 패킷 단위로 분할하여 전송할 때, 패킷의 유실 가능성이라던지, 순서의 변경 등의 문제는 충분히 발생할 수 있다.

4계층은 이러한 문제를 담당한다. 패킷의 순서를 명시해주고, 패킷의 유실 시에는 재전송을 요청할 수 있게 한다. 이때

+ 패킷을 보내는 순서를 시퀀스 번호라 칭하며, 
+ 이를 받는 순서를 우리가 흔히 알고 있는 그 `ACK` 번호이다.

나아가 포트 번호를 사용하여, 상위 애플리케이션을 구분하는 역할을 한다.

## 장비

대표적인 4계층 장비로는 로드 밸런서와 방화벽이 있다.  
애플리케이션 구분자와 시퀀스, ACK 번호 정보를 이용해 부하를 분산하거나, 보안 정책을 수립하여 패킷을 통과, 차단하는 역할을 수행한다.

