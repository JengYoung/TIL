# 2계층(데이터 링크 계층)

전기신호를 모아 우리가 알아볼 수 있는 데이터 형태로 처리한다.  
전기 신호를 정확하게 전달하기 보다는(1계층의 목적), 주소 정보를 정의하고 정확한 주소로 보내는 것에 초점을 맞춘다.

+ 주소 체계가 생기면서 여러 통신이 동시에 이루어지는 것을 구분하기 위한 기능을 정의
+ 전기 신호를 모아 데이터 형태로 처리
+ 데이터에 대한 에러를 탐지하거나 고치는 역할(과거에는 신뢰할 수 없는 미디어를 이용하는 경우가 많았기 때문)을 수행할 수 있음.
+ 현재의 이더넷 기반 네트워크 2계층은 에러 탐지 역할만 수행
+ 플로 컨트롤 수행


## 플로 컨트롤

동시에 데이터를 주고받을 수 있다는 점은, 현재 이미 사용자가 다른 것과 통신을 하고 있어 더이상 통신을 할 수 없는 교착상태에 이를 수 있다는 것을 의미한다.  
이를 사전에 확인할 수 있어야 하는데, 이러한 작업을 플로 컨트롤이라 하며 2계층에서 수행한다.

1. 서버에서 스위치로 데이터를 전송할 때
2. 스위치에 혼잡 상황이 발생한다면 `Pause` 프레임을 전송하여
3. 프레임을 수신 받은 서버는 대기하는 방식으로 전개한다.

## 주요 장비

MAC 주소라는 주소 체계를 인식하기 위한 장비로 다음과 같은 장비를 사용한다.

+ 네트워크 인터페이스 카드(NIC)
+ 스위치

이때 스위치는, MAC 주소를 보고 통신해야 할 포트를 지정해서 내보낸다.

### 네트워크 인터페이스 카드

꽤나 다양한 용어로 불리지만, 결국 네트워크를 연결해주는 카드나 인터페이스를 지칭하는 것으로 언급된다.

#### 네트워크 인터페이스 카드의 동작 방식

1. 입력되는 전기 신호를 데이터 형태로 만든다.
2. 목적지 MAC 주소와 출발지 MAC 주소를 확인한다.
3. 네트워크 인터페이스 카드의 MAC 주소를 확인한다.
4. 목적지 MAC 주소와 네트워크 인터페이스의 MAC 주소가 맞으면 데이터를 처리한다. 그렇지 않다면 데이터를 폐기한다.

### 스위치

단말이 어떤 MAC 주소인지, 연결된 포트는 어느 것인지 주소 습득 과정을 통해 MAC 주소를 알아낸다.  
해당 데이터를 기반으로, 단말들의 통신 시 적절한 포트를 필터링 및 포워딩하는 역할을 수행한다.

이는 1계층의 허브와 다르다. 스위치가 선별하여 포트를 포워딩한다면, 허브는 한 포트에서 전기 신호가 들어오면, 전체 포트로 전기신호를 전달한다.  
스위치의 적절한 필터링과 포워딩 기능으로 통신이 필요한 포트만 사용, 전체에 불필요한 처리가 감소되어 이더넷 네트워크 효율성이 향상되었다. 이는 곧 이더넷 기반 네트워크의 급증으로 이어졌다.
