# contextAPI란?

매우 간단하다. 사실 컴포넌트를 따져 보자.

**컴포넌트의 구조는 어떤 구조인가? 바로 트리구조이다.**

따라서 트리 레벨이 깊어지는 구조에서, 최상위의 컴포넌트에서 최하위의 컴포넌트로 `prop`을 넘겨주면 어떨까?

**계속해서 하위 컴포넌트로 넘겨야 할 것이다.**

마찬가지로, 이벤트 역시 최하위에서 상위로 넘기고 싶다면 **계속해서 상위로 이벤트를 전달해야 한다.**

그런데, 이정도만 해도 복잡한데, **형제 컴포넌트로 전달**한다면 어떨까? 이 두 작업을 모두 수행해야 할 것이다. 

즉 어떠한 계층으로써 전달하든간에, 깊이가 깊어진다면 **매우 복잡한 상태 관리 구조를 갖게 되는 것이다.**

### Prop drilling

즉 `prop drilling`이 발생한다. **마치 드릴로 파는 것처럼 계속해서 파고들어야 `prop` 전달이 가능한 셈이다.**

## 전역 상태 관리의 등장

이를 해결하는 것이 바로 전역 상태 관리이다.

외부에서 `Provider`가 상태를 받고, `Consumer`의 형태로 데이터를 전달하는 방식으로 `prop drilling`을 피하는 것이다.

### 전역 상태 관리의 주의 사항

그러나 너무 잦은 사용은 성능 이슈가 발생할 수 있다.

그 이유는, `**provider`가 변경되면 `consumer`와 관련된 컴포넌트들이 모두 리렌더링되기 때문**이다.

또한 `**consumer`을 사용하면 반드시 `provider`가 필요해서 독립적으로 존재할 수 없다.** 이는 컴포넌트를 한 번 감싼 컴포넌트를 만듦으로써 해결할 수 있다.
