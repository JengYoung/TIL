# 인덱스 시그니처란

자바스크립트 객체는 타입의 값에 관계 없이 `key`를 mapping한다.

이러한 특성은 인덱스 시그니처를 통해 유연성에 맞게 타입스크립트 값을 조정할 수 있도록 할 수 있다.

인덱스 시그니처는 다음과 같이 사용한다

> `[property: string]: string`

이는 다음과 같은 의미를 갖고 있다.

+ `property`: 키의 이름이다. 단지 키의 위치만 표시하는 용도라 타입 체커에서는 이를 무시한다.
+ `property:string`: 본래 `string` + `number` + `symbol` 모두를 유의해야 하지만, 대개는 `string`이다.
+ `string`: 어떤 타입이든 들어갈 수 있다.

## 단점

그러나 단점 역시 명확하다. 생각해보자. 유연성이 높다는 것은, 그만큼 strict하지 않다는 것이다.

따라서 다음과 같은 단점이 존재한다.

+ 모든 키를 허용한다.
+ 특정 키가 필요하지 않다.
+ 키마다 다른 타입을 가질 수 없다.
+ 자동완성 기능이 불가하다.

따라서 **타입이 제한되어 있는 상황**이라면 인덱스 시그니처를 사용하지 않는 것이 권장되는 코딩 방식이다.

> 다만 런타임 때까지 모르는 경우는 인덱스 시그니처는 분명 유용한 패턴이다.

## 대안

### `Record`
`Record`는 키 타입에 관련한 유연성을 제공한다. 이때, `string`의 부분 집합을 사용할 수 있다.

```ts
type Vec3D = Record<'x' | 'y' | 'z', number>;
```

이는 다음과 같다.

```ts
type Vec3D = {
  x: number;
  y: number;
  z: number;
}

```

### 매핑된 타입 사용

매핑된 타입은 키마다 별도의 사용을 가능하게 해준다.

```ts
type ABC = { [k in 'x' | 'y' | 'z']: k extends 'y' ? string : number };
```
이는 다음과 같다.

```ts
type ABC = {
  x: number;
  y: string;
  z: number;
}
```