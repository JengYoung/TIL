# **모듈이란?**

일반적으로 자바스크립트는 파일들을 각각 별개의 프로그램을 취급함.

문제는 웹사이트가 점점 하는 것이 많아짐에 따라, 스크립트 파일의 크기도 증가됐다는 점.

# **예전에는 말이죠...**

스크립트 파일간 통신을 위해 전역 스코프에 존재하는 함수와 변수를 사용.

이는 즉시 실행 함수 등을 통해 네임스페이스 오염을 막았는데,

1. 결국에는 스크립트 파일간의 의존성을 파악하기 힘들고,
2. 실행 순서를 제어해야 한다는 한계점이 있었음.

# **제어의 면에서 나온 모듈**

그렇다. 결국에는 "제어"하기 위해 나온 패러다임의 산물.

일단 자바스크립트는 별개의 프로그램으로 취급된다.

그렇다면 프로그램 간 복잡성을 최소화하기 위해서는, 모듈이 필요했다는 것!

# **모듈과 컴포넌트의 차이**

- 모듈은 설계시점에 의미 있는 요소 (의식적으로 나눠놓은 요소)
- 컴포넌트는 런타임 시점에 의미있는 요소 (나눠놓은 요소에 포함되어 실행되는 요소)

이 말이 좀 헷갈리기는 한데, 이해가 된다.

모듈은 설계 시점에 있어서 분리가 됐다. (**스크립트 파일**들을 각각 분리하지 않는가?) 그런데 컴포넌트는 사실 한 모듈 안에서도 있을 수 있다. 다만 이를 실행했을 때, 컴포넌트란 마치 클래스처럼 **별도로 동작할 수 있는 애들 각각을 의미하는 것이다!** 라고 나는 지금 해석했다.

# **모듈**

- 직접적으로 런타임에 실행이 됨에도 왜 모듈인가?

  자바스크립트는 파일 하나가 프로그램이므로.

- 설계시 용어가 혼동되는 경우가 있음.
- 그래서 보통 자바스크립트에서는 **대규모 서비스를 만들 시 디렉토리 단위를 모듈에 가깝게 설계. (아! 그래서 그렇게 일련의 format이 있는 거구나!)**

로컬 파일에서는 동작 X,  
HTTP, HTTPS 프로토콜 통해서 동작.

`http-server` 라는 간단한 툴 사용 가능.

# **기초 사용 방법**

모듈로 동작하게 되면 `import`로 다른 파일 불러오기 가능.

`script` 태그로 파일을 호출.

# **모듈의 특징**

## **#1. 항상 `use strict`로 실행.**

항상 엄격모드로 동작.

반드시 예약어 필요.

## **#2. 모듈레벨 스코프가 있음**

자체적인 모듈레벨 스코프가 있어 `import`하지 않는 한 서로 참조가 불가능.

## **#3. 단 한 번만 평가**

두 번 `import`되더라도 한 번만 호출됨.

## **#4. 지연 실행 가능**

**`defer` 옵션을 굳이 따로 넣지 않아도 자동적으로 모든 `DOM`이 만들어진 다음에 실행**

(오! 이거는 정말 처음 알았다.)
