![https://media.vlpt.us/images/hyemz/post/2772a98d-e951-4d7f-bb1b-409ad484a0c8/vue.js%20%E1%84%8A%E1%85%A5%E1%86%B7%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%AF.jpeg](https://media.vlpt.us/images/hyemz/post/2772a98d-e951-4d7f-bb1b-409ad484a0c8/vue.js%20%E1%84%8A%E1%85%A5%E1%86%B7%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%AF.jpeg)

# Data와 Methods

## 왜 `data` 속성은 함수로 만들어야 하는가?

생각을 해보자. 만약 데이터가 객체형이었다면, 데이터는 참조 타입이다.

그렇다면 이런 생각을 해보자.

**만약, 이게 컴포넌트를 나타내는 속성 값들이고, 재사용을 한다면?**

**결과적으로 참조 타입의 특성으로 인해 같은 메모리 주소를 공유하게 될 것이고, 의도치 않은 `side effect`가 발생한다.**

**따라서, `data`는 함수다.**

### 항상 Data 안에 반응형으로 적용되어야 할 속성과 값을 등록해야 한다.

나중에 `vm`을 통해 직접 등록한다고 하더라도, 만약 `data()`에서 리턴한 객체 안에 속성이 인식되지 않는다면, 반응형으로 작동하지 않는다.

## 주의사항

**`$`와 `_` 접두사로 시작되는 속성명은 사용하지 말자!**

**Vue는 컴포넌트 인스턴스를 통해 자체 내장 API를 노출할 때, $를 접두사로 사용합니다. 또한 내부 속성 정의를 위한 접두사로 _를 사용합니다. 그러므로 최상위 수준의 data 속성에 이 문자들로 시작하는 이름을 사용하지 않도록 합니다**

## Methods

- 대개 이벤트에 대한 `eventHandler`로 사용되는 함수.
- 동작하기를 원하는 메서드들이 담긴 **하나의 객체**여야 함.
- **데이터 변경 혹은 비동기 프로세스 유발과 같은 부작용이 없어야** **한다.**

**왜 이건 함수로 쓰지 않을까 생각을 해봤는데... 
생각해보면 함수로 쓰는 순간, 리렌더링할 때마다 새로운 함수들을 계속해서 만들어야 한다. 즉, 메모리 낭비다.**

```jsx
const app = Vue.createApp({
  data() {
    return { count: 4 }
  },
  methods: {
    increment() {
      // `this`는 컴포넌트 인스턴스를 참조합니다.
      this.count++
    }
  }
})

const vm = app.mount('#app')

console.log(vm.count) // => 4

vm.increment()

console.log(vm.count) // => 5
```

### 주의사항

- `Methods`는 일부러 `this`를 직접 명시하지 않는다. 필요하지 않아서가 아니다.
    
    내부에서 인스턴스를 항상 참조할 수 있도록 `this` 값을 자동으로 바인딩하기 때문이다.
    
    **따라서, 화살표 함수를 사용해서 `methods`를 정의하지 말자. `this`가 반드시 필요하다.**