# 인자 체크

비록 타입스크립트가 나와 이를 검증하는 로직들이 많이 줄어들었지만, 어떤 상황에서든지 타입 체크를 `guard`하는 것은 절대 나쁘지 않은 선택이다.  
오히려, 타입스크립트에 지나친 의존을 하여 컴파일 단게에서 오류가 일어나 타입 체크를 피하는 경우를 방지할 수 있어 좋기도 하다.  
이를 TDD에서는 어떻게 검증하는지 살펴 본다.

## 애스팩트 지향 프로그래밍 적용

이번에 17장을 공부하며 인상 깊은 점인데, 애스팩트 지향 프로그래밍을 적용하면 좀 더 체계적이고 유연하게 타입 관리를 적용할 수 있다.
`attach`하는 메서드들에 `AOP`를 적용하여 어떤 함수가 들어왔을 때, 어떤 값이 나와야 하는지 명시해줌으로써 이를 달성 가능하다.

## 타입스크립트 vs 애스팩트 기반 인자 체크

서로 장단점이 분명 존재한다.  
또한 완전히 대척점에 있는 것들이 아니라, 상호보완적으로 적용이 가능하다.

### 타입스크립트

#### 장점

+ 엄격한 자료형 언어에 익숙한 개발자들에게 친숙한 구문 방식
+ 함수 인자 및 반환값뿐만 아니라 지역 변수의 다양한 쓰임새도 체크 가능하다.
+ 애스팩트 지향적 방식보다 코드가 짧다.

#### 단점

+ 런타임 시점에서 발생하는 타입 검증이 불가능하다.
+ 타입의 유형이 제한적이다. (커스텀이 덜 유연하다)
+ 새로운 구문에 대한 지식이 필요하다.

### 애스팩트

#### 장점

+ 새로운 구문에 대한 지식이 필요하지 않다.
+ 런타임 당시에 타입을 체크하기 때문에 정보의 양이 좀 더 풍부하다.
+ 타입 체크 유형이 유연하다.

#### 단점

+ 코드의 양이 절.대.적.으로 많아진다...
+ 초반 설계가 복잡하다. (애스팩트를 위한 생성자부터 해서, 인터페이스 생성까지 좀 더 패턴 설계가 까다롭다.)
+ 컴파일 시점에서는 잡지 않기 때문에 초기 대응이 늦어진다.


## 결론

분명 둘 다 장단점이 있어보이지만, 프론트엔드쪽에서는 타입스크립트를 우선적으로 채택하는 게 절대적으로 유리하다고 본다.  
이유는, 프론트엔드의 경우 코드의 생명주기가 상대적으로 짧고, 변경이 잦다. 무엇보다, 작성해야 할 코드의 양도 많다.

따라서 우선 타입스크립트를 지원하되, 좀 더 까다로운 규약이 필요하다면 애스팩트를 적용해보는 건 어떨까 싶다.  
이렇게 해도 괜찮다고 판단하는 이유는, 까다로운 타입을 반드시 수정 및 적용해야 할 때, 해당 모듈을 수정해야 할 것이다.  
이에 대한 strict를 안전하게 유지하고 싶다면 애스팩트를 위한 클래스를 추가하고, 애스팩트만 끼워주는 형식으로 넣어도 추후 확장성 높고 유연하게 대처 가능하다고 판단하기 때문이다.

> 결론: 애스팩트 역시 훌륭한 수단이며, 타입스크립트는 더욱 생산성 높은 대안이다. 
> 타입스크립트와 애스팩트의 관계는 컴파일러와 코드 규약 사이의 관계이다.