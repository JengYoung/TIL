# 인터페이스

실행 코드 없이 클래스를 '서술'하기 위한 용도로 사용한다.  
인터페이스를 정의하고 클래스가 상속하면, 클래스는 인터페이스를 그대로 구현해야 한다.

`Registry`라는 추상적인 인터페이스 함수를 생성하고, 여기서 규약에 대해 잘 지키고 있는지 여부를 체크하도록 한다.  
이 생성자 함수 내에는 주로 다음과 같은 메서드들이 존재한다. (여기서 이름은 책에 나오는 것을 원천으로 삼아 예시로 선언한 것이다.)

+ `define`: 주어진 이름의 규약을 정의한다.
+ `defineMultiple`: 규약 정의를 간편하게 설치하도록 지원한다.
+ `fulfills`: 객체가 규약을 지키는지 확인한다.
+ `assert`: 객체가 규약을 지키지 못하면 에러를 던진다.
+ `attatchReturnValidator`: 함수 반환값에 `assert`를 호출하는 aspect를 붙인다.
+ `multipleFulFills`: `fulfills`와 비슷하지만 여러 객체와 여러 규약 세트를 대상으로 체크한다.
+ `multipleAssert`: 여러 객체 및 규약이 지켜지지 않는다면 에러를 던진다.
+ `attachArgumentsValidator`: 주어진 인자가 조건을 만족하는지 단언하는 애스팩트를 함수에 붙인다.

## 장점

비록 중복되는 절차인 듯하지만, 다음과 같은 효과를 기대할 수 있다.

+ 클래스 사용부가 기대하는 효과가 무엇인지 알 수 있다.
+ 이후 파생된 클래스들이 따라야 할 일종의 가이드라인 역할을 한다.
+ 구현부와 인터페이스 사이의 균형이 깨지면 개발자에게 알려준다.

## TDD

1. 인터페이스를 정의한다.
2. 객체가 규약을 잘 지키는지 판단한다.
3. 객체가 규약을 잘 지킨다고 단언하고, 그렇지 않으면 에러를 던진다.
4. 운영 환경에서 프로그램이 더 빨리 실행되도록 규약 적용을 모두 해제한다.
5. 애스팩트를 붙여 규약을 객체에 적용한다.(객체를 생성하는 함수에 애스팩트를 추가하여 그 반환값을 체크한다.)

